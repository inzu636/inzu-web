<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <style>
    body {
      font-family: Arial;
      background: #111;
      color: #fff;
      text-align: center;
      padding-top: 50px;
    }
    input {
      padding: 10px;
      font-size: 20px;
      width: 120px;
      text-align: center;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h2>Update Result</h2>
  <input type="text" id="resultInput" maxlength="3" placeholder="3 digits" />

  <br>
  <button onclick="updateResult()">Update</button>

  <script>
    // SIMPLE PASSWORD
    const password = "1234";
    let userPass = prompt("Enter Admin Password:");
    if (userPass !== password) {
      alert("Wrong Password!");
      window.location = "index.html";
    }

    function updateResult() {
      const value = document.getElementById("resultInput").value;

      if (value.length !== 3) {
        alert("Result must be 3 digits!");
        return;
      }

      // Update JSON file using GitHub API
      const data = {
        message: "Update result",
        content: btoa(JSON.stringify({ result: value }, null, 2))
      };

      fetch("https://api.github.com/repos/inzu636/Shaikh/contents/result.json", {
        method: "PUT",
        headers: {
          "Authorization": "token YOUR_GITHUB_TOKEN",
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      })
      .then(res => res.json())
      .then(() => alert("Result Updated Successfully!"))
      .catch(err => alert("Error: " + err));
    }
  </script>

</body>
</html>
